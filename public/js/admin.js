function TestimonialsManager(t){var a=this,e=t.find("#testimonial_filters"),i=t.find("#testimonial_list");this.init=function(){e.on("click.filter",'a[role="tab"]',a.filterTestimonials),i.on("click.toggle",".activation-toggle-switch input",function(){var t=$(this).closest(".testimonial").attr("id"),e=parseInt(t.substring(12),10);a.toggleActiveStatus(e)}),i.on("click.delete",".delete-button",function(){var t=$(this).closest(".testimonial").attr("id"),e=parseInt(t.substring(12),10);a.deleteTestimonial(e)})},this.toggleActiveStatus=function(t){var a,i;$.ajax({url:"/admin/testimonials/"+t+"/toggle-status",dataType:"json",type:"post",error:function(t,a,e){},success:function(n){n.data&&(a=$("#testimonial-"+t),i=a.find(".activation-toggle-switch"),parseInt(n.data.flag_active,10)?a.removeClass("panel-danger").addClass("panel-success"):a.removeClass("panel-success").addClass("panel-danger"),e.find("li.active > a").trigger("click.filter"))}})},this.filterTestimonials=function(){var t=$(this).data("status"),a=i.find(".testimonial");1===t?a.each(function(t,a){var e=$(a),i=e.closest(".testimonial-wrapper"),n=e.find('input[name="flag_active"]');n.prop("checked")?i.removeClass("hidden"):i.addClass("hidden")}):0===t?a.each(function(t,a){var e=$(a),i=e.closest(".testimonial-wrapper"),n=e.find('input[name="flag_active"]');n.prop("checked")?i.addClass("hidden"):i.removeClass("hidden")}):a.each(function(t,a){$(a).closest(".testimonial-wrapper").removeClass("hidden")})},this.deleteTestimonial=function(t){var a,e;$.ajax({url:"/admin/testimonials/"+t+"/delete",dataType:"json",type:"post",error:function(t,a,e){},success:function(i){i.data&&i.data.deleted===t&&(a=$("#testimonial-"+t),e=a.closest(".testimonial-wrapper"),e.remove())}})}}function parallaxScroll(){var t=$(window).scrollTop();$(".star_logo").css("top",0-.75*t+"px")}function showScrollButton(){var t=$("body").height()/4;$(document).scrollTop()>=t?$(".scroll-btn").removeClass("hidden"):$(".scroll-btn").addClass("hidden")}function scrollToTop(t){var t=parseInt(t,10);$("html, body").animate({scrollTop:0},t)}$(document).ready(function(){var t=new TestimonialsManager($("#testimonial_manager"));t.init()});var FormManager=function(t,a){var e=this,a=a||{first_name:"validName",last_name:"validName",email:"validEmail",subject:"validAlphaNum",message:"validInput"},i={"email:validEmail":"The email field must contain a valid email address"},n={};this.init=function(){t.data("validateOnStart")&&e.validateForm(),t.on("change",".form-control",function(){e.validateInput($(this))})},this.validateForm=function(){var a=!0;return t.find(".form-group").each(function(){e.validateInput($(this).find(".form-control"))||(a=!1)}),a},this.validateInput=function(t){var s,r,l,o,c=t.attr("name");return n[c]="",s=a[c]?a[c]:"validInput",e[s](c,t.val())?(e.setSuccessStatus(t),r=!0):(n[c]&&(o=n[c],i[c+":"+o]&&(l=i[c+":"+o])),e.setErrorStatus(t,l),r=!1),r},this.setSuccessStatus=function(t){t.siblings(".form-control-feedback").removeClass("fa-close hidden").addClass("fa-check"),t.siblings("span.sr-only").removeClass("hidden").text("(success)"),t.closest(".form-group").removeClass("has-error").addClass("has-success").find(".errormsg").empty()},this.setErrorStatus=function(t,a){var e=t.attr("name").replace(/[-_]+/," "),a=a||"The "+e+" field is required";t.siblings(".form-control-feedback").removeClass("fa-check hidden").addClass("fa-close"),t.siblings("span.sr-only").removeClass("hidden").text("(error)"),t.closest(".form-group").removeClass("has-success").addClass("has-error").find(".errormsg").text(a)},this.validInput=function(t,a){var i=e.trimSpace(a);return""!=i},this.validName=function(t,a){if(e.validInput(t,a)){if(a.length<=255)return!0;n[t]="validName"}return!1},this.validAlphaNum=function(t,a){var i=/^[a-zA-Z0-9\-\_ ]+$/;if(e.validInput(t,a)){if(a.match(i))return!0;n[t]="validAlphaNum"}return!1},this.validEmail=function(t,a){var i=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;if(e.validInput(t,a)){if(a.match(i))return!0;n[t]="validEmail"}return!1},this.validStateAbbr=function(t,a){var i=/^[a-zA-Z]{2}$/;if(e.validInput(t,a)){if(a.match(i))return!0;n[t]="validStateAbbr"}return!1},this.noValidate=function(t,a){return!0},this.trimSpace=function(t){return t.replace(/^\s+|\s+$/g,"")}};$(document).ready(function(){$(window).bind("scroll",function(){showScrollButton()}),$("a[href=#top]").bind("click",function(t){t.preventDefault(),scrollToTop(1e3)}),showScrollButton()});