{"version":3,"sources":["testimonials-manager.js","form-validator.js","scroll.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin.js","sourcesContent":["$(document).ready(function() {\n\tvar testimonialsManager = new TestimonialsManager($('#testimonial_manager'));\n\ttestimonialsManager.init();\n});\n\nfunction TestimonialsManager(context) {\n\tvar self = this,\n\t\tfilters = context.find('#testimonial_filters'),\n\t\tlist = context.find('#testimonial_list');\n\t\n\tthis.init = function () {\n\t\tfilters.on('click.filter', 'a[role=\"tab\"]', self.filterTestimonials);\n\t\t\n\t\tlist.on('click.toggle', '.activation-toggle-switch input', function () {\n\t\t\tvar id = $(this).closest('.testimonial').attr('id');\n\t\t\tvar testimonial_id = parseInt(id.substring(12), 10);\n\t\t\tself.toggleActiveStatus(testimonial_id);\n\t\t});\n\t};\n\t\n\tthis.toggleActiveStatus = function (testimonial_id) {\n\t\tvar testimonial, toggle;\n\t\t\n\t\t$.ajax({\n\t\t\turl: '/admin/testimonials/' + testimonial_id + '/toggle-status',\n\t\t\tdataType: 'json',\n\t\t\ttype: 'post',\n\t\t\terror: function(err, obj, msg) {\n\t\t\t\tconsole.log(msg);\n\t\t\t},\n\t\t\tsuccess: function (response) {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response.data) {\n\t\t\t\t\ttestimonial = $('#testimonial-' + testimonial_id);\n\t\t\t\t\ttoggle = testimonial.find('.activation-toggle-switch');\n\t\t\t\t\t\n\t\t\t\t\tif (response.data.flag_active) {\n\t\t\t\t\t\ttestimonial.removeClass('panel-danger').addClass('panel-success');\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttestimonial.removeClass('panel-success').addClass('panel-danger');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//hide any testimonials that no longer match active filter status\n\t\t\t\t\tfilters.find('li.active > a').trigger('click.filter');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tthis.filterTestimonials = function() {\n\t\tvar filter = $(this).data('status');\n\t\tvar testimonials = list.find('.testimonial');\n\t\t\n\t\tif (filter === 1) {\n\t\t\ttestimonials.each(function(id, testimonial) {\n\t\t\t\tvar testimonialObj = $(testimonial),\n\t\t\t\t\twrapper = testimonialObj.closest('.testimonial-wrapper'),\n\t\t\t\t\tinput = testimonialObj.find('input[name=\"flag_active\"]');\n\t\t\t\t\n\t\t\t\tif (input.prop('checked')) {\n\t\t\t\t\twrapper.removeClass('hidden');\n\t\t\t\t} else {\n\t\t\t\t\twrapper.addClass('hidden');\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (filter === 0) {\n\t\t\ttestimonials.each(function(id, testimonial) {\n\t\t\t\tvar testimonialObj = $(testimonial),\n\t\t\t\t\twrapper = testimonialObj.closest('.testimonial-wrapper'),\n\t\t\t\t\tinput = testimonialObj.find('input[name=\"flag_active\"]');\n\t\t\t\t\n\t\t\t\tif (!input.prop('checked')) {\n\t\t\t\t\twrapper.removeClass('hidden');\n\t\t\t\t} else {\n\t\t\t\t\twrapper.addClass('hidden');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\ttestimonials.each(function(id, testimonial) {\n\t\t\t\t$(testimonial).closest('.testimonial-wrapper').removeClass('hidden');\n\t\t\t});\n\t\t}\n\t};\n}\n","\"use strict\";\r\n\r\nvar FormManager = function(form, validationMap) {\r\n\tvar self = this,\r\n\t\tvalidationMap = validationMap || {\r\n\t\t\t'first_name': 'validName',\r\n\t\t\t'last_name': 'validName',\r\n\t\t\t'email': 'validEmail',\r\n\t\t\t'subject': 'validAlphaNum',\r\n\t\t\t'message': 'validInput'\r\n\t\t},\r\n\t\terrorMsgMap = {\r\n\t\t\t'email:validEmail': 'The email field must contain a valid email address'\r\n\t\t},\r\n\t\terrors = {};\r\n\r\n\tthis.init = function() {\r\n\t\tif (form.data('validateOnStart')) {\r\n\t\t\tself.validateForm();\r\n\t\t}\r\n\r\n\t\tform.on('change', '.form-control', function() {\r\n\t\t\tself.validateInput($(this));\r\n\t\t});\r\n\t};\r\n\r\n\tthis.validateForm = function()\r\n\t{\r\n\t\tvar isValid = true;\r\n\t\t\r\n\t\tform.find('.form-group').each(function() {\r\n\t\t\tif (!self.validateInput($(this).find('.form-control'))) {\r\n\t\t\t\tisValid = false;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn isValid;\r\n\t};\r\n\r\n\tthis.validateInput = function(input)\r\n\t{\r\n\t\tvar inputName = input.attr('name'), callback, isValid, errorMsg, method;\r\n\r\n\t\t//clear error for this input\r\n\t\terrors[inputName] = '';\r\n\t\t\r\n\t\tif (validationMap[inputName]) {\r\n\t\t\tcallback = \tvalidationMap[inputName];\r\n\t\t} else {\r\n\t\t\tcallback = 'validInput';\r\n\t\t}\r\n\t\tif (self[callback](inputName, input.val())) {\r\n\t\t\tself.setSuccessStatus(input);\r\n\t\t\tisValid = true;\r\n\t\t} else {\r\n\t\t\tif (errors[inputName]) {\r\n\t\t\t\tmethod = errors[inputName];\r\n\t\t\t\tif (errorMsgMap[inputName + ':' + method]) {\r\n\t\t\t\t\terrorMsg = errorMsgMap[inputName + ':' + method];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tself.setErrorStatus(input, errorMsg);\r\n\t\t\tisValid = false;\r\n\t\t}\r\n\t\t\r\n\t\treturn isValid;\r\n\t};\r\n\r\n\tthis.setSuccessStatus = function(input)\r\n\t{\r\n\t\tinput.siblings('.form-control-feedback').removeClass('fa-close hidden').addClass('fa-check');\r\n\t\tinput.siblings('span.sr-only').removeClass('hidden').text('(success)');\r\n\t\tinput.closest('.form-group').removeClass('has-error').addClass('has-success').find('.errormsg').empty();\r\n\t};\r\n\r\n\tthis.setErrorStatus = function(input, errorMsg)\r\n\t{\r\n\t\tvar fieldName = input.attr('name').replace(/[-_]+/, ' ');\r\n\t\tvar errorMsg = errorMsg || 'The ' + fieldName + ' field is required';\r\n\t\t\r\n\t\tinput.siblings('.form-control-feedback').removeClass('fa-check hidden').addClass('fa-close');\r\n\t\tinput.siblings('span.sr-only').removeClass('hidden').text('(error)');\r\n\t\tinput.closest('.form-group').removeClass('has-success').addClass('has-error').find('.errormsg').text(errorMsg);\r\n\t};\r\n\r\n\tthis.validInput = function(inputName, value)\r\n\t{\r\n\t\tvar cleanValue = self.trimSpace(value);\r\n\r\n\t\treturn cleanValue != '';\r\n\t};\r\n\r\n\tthis.validName = function(inputName, value)\r\n\t{\r\n\t\tif (self.validInput(inputName, value)) {\r\n\t\t\tif (value.length <= 255) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\terrors[inputName] = 'validName';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tthis.validAlphaNum = function(inputName, value)\r\n\t{\r\n\t\tvar alphaDash = /^[a-zA-Z0-9\\-\\_ ]+$/;\r\n\r\n\t\tif (self.validInput(inputName, value)) {\r\n\t\t\tif (value.match(alphaDash)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\terrors[inputName] = 'validAlphaNum';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tthis.validEmail = function(inputName, value)\r\n\t{\r\n\t\tvar emailExp = /^[\\w\\-\\.\\+]+\\@[a-zA-Z0-9\\.\\-]+\\.[a-zA-z0-9]{2,4}$/;\r\n\r\n\t\tif (self.validInput(inputName, value)) {\r\n\t\t\tif (value.match(emailExp)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\terrors[inputName] = 'validEmail';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tthis.validStateAbbr = function(inputName, value)\r\n\t{\r\n\t\tvar stateAbbrExp = /^[a-zA-Z]{2}$/;\r\n\r\n\t\tif (self.validInput(inputName, value)) {\r\n\t\t\tif (value.match(stateAbbrExp)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\terrors[inputName] = 'validStateAbbr';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tthis.noValidate = function(inputName, value)\r\n\t{\r\n\t\treturn true;\r\n\t};\r\n\r\n\tthis.trimSpace = function(string)\r\n\t{\r\n\t\treturn string.replace(/^\\s+|\\s+$/g, '');\r\n\t};\r\n};\r\n","$(document).ready(function() {\r\n\t$(window).bind('scroll', function() {\r\n\t\tshowScrollButton();\r\n\t});\r\n\r\n\t$('a[href=#top]').bind('click', function(event) {\r\n\t\tevent.preventDefault();\r\n\t\tscrollToTop(1000);\r\n\t});\r\n\r\n\tshowScrollButton();\r\n});\r\n\r\n/**\r\n * Sets the position of the title logo based on scroll position.\r\n */\r\nfunction parallaxScroll()\r\n{\r\n\tvar scrolled = $(window).scrollTop();\r\n\t$('.star_logo').css('top', (0 - (scrolled * 0.75)) + 'px');\r\n}\r\n\r\n/**\r\n * Determines whether or not to display the scroll to top\r\n * button based on the window position.\r\n */\r\nfunction showScrollButton()\r\n{\r\n\tvar breakpoint = ($('body').height()) / 4;\r\n\r\n\tif ($(document).scrollTop() >= breakpoint) {\r\n\t\t$('.scroll-btn').removeClass('hidden');\r\n\t} else {\r\n\t\t$('.scroll-btn').addClass('hidden');\r\n\t}\r\n}\r\n\r\n/**\r\n * Scrolls to the top of the window at the specified pace.\r\n * @param {int} time\r\n */\r\nfunction scrollToTop(time)\r\n{\r\n\tvar time = parseInt(time, 10);\r\n\t$('html, body').animate({scrollTop: 0}, time);\r\n}\r\n"]}